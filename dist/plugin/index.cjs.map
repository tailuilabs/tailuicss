{"version":3,"sources":["/Users/hosmann/Projects/TailUI/dist/plugin/index.cjs","../../src/plugin/index.ts"],"names":[],"mappings":"AAAA;AACE;AACF,yDAA8B;AAC9B,iCAA8B;AAC9B;AACA;ACLA,4FAAmB;AACnB,gEAAe;AACf,wEAAiB;AAWjB,IAAM,aAAA,EAAe,gBAAA,CAAO,WAAA;AAAA,EAC1B,CAAC,QAAA,EAAyB,CAAC,CAAA,EAAA,GAAM;AAC/B,IAAA,MAAM,EAAE,UAAU,EAAA,EAAI,6CAAA,OAAqB,CAAA;AAE3C,IAAA,OAAO,QAAA,CAAU;AAAA;AAAA,IAA0C,CAAA,EAAG;AAC5D,MAAA,MAAM,SAAA,EAAW,cAAA,CAAK,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAG,SAAS,CAAA;AAEtD,MAAA,GAAA,CAAI,CAAC,YAAA,CAAG,UAAA,CAAW,QAAQ,CAAA,EAAG;AAC5B,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,kDAAA,EAA2C,QAAQ,CAAA,CAAA;AACL,QAAA;AAC3D,QAAA;AACF,MAAA;AAIwC,MAAA;AAGhB,MAAA;AAC2C,QAAA;AACjE,QAAA;AACF,MAAA;AAGQ,MAAA;AAEU,QAAA;AAElB,MAAA;AACF,IAAA;AACF,EAAA;AACiC,EAAA;AACY,IAAA;AACW,IAAA;AAE/C,IAAA;AAAA;AAAA;AAGoC,MAAA;AAC3C,IAAA;AACF,EAAA;AACF;AAEe;ADdoE;AACA;AACA","file":"/Users/hosmann/Projects/TailUI/dist/plugin/index.cjs","sourcesContent":[null,"import plugin from 'tailwindcss/plugin';\nimport fs from 'fs';\nimport path from 'path';\n \nimport { resolveConfig, type PluginOptions } from '../config';\n\n/**\n * TailUI — Tailwind CSS Plugin (Zero-Config)\n *\n * Automatically resolves the styles directory from ui.config.json\n * and adds it to Tailwind's content paths so .ui-* classes are\n * detected and not tree-shaken.\n */\nconst tailuiPlugin = plugin.withOptions(\n  (options: PluginOptions = {}) => {\n    const { stylesDir } = resolveConfig(options);\n\n    return function ({ /* addUtilities, addComponents, etc. */ }) {\n      const fullPath = path.resolve(process.cwd(), stylesDir);\n\n      if (!fs.existsSync(fullPath)) {\n        console.warn(`[TailUI] ⚠️ Styles directory not found: ${fullPath}`);\n        console.warn(`[TailUI] Run \"npx tailui init\" to create it.`);\n        return;\n      }\n\n      const files = fs\n        .readdirSync(fullPath)\n        .filter((f) => f.startsWith('ui.') && f.endsWith('.css'))\n        .sort();\n\n      if (files.length === 0) {\n        console.warn(`[TailUI] ⚠️ No ui.*.css files found in ${fullPath}`);\n        return;\n      }\n\n      // Log informatif lors du build Tailwind\n      console.log(\n        `[TailUI] ✅ Found ${files.length} component(s): ${files\n          .map((f) => f.replace('ui.', '').replace('.css', ''))\n          .join(', ')}`\n      );\n    };\n  },\n  (options: PluginOptions = {}) => {\n    const { stylesDir } = resolveConfig(options);\n    const fullPath = path.resolve(process.cwd(), stylesDir);\n\n    return {\n      // On ajoute les fichiers CSS au \"content\" de Tailwind \n      // pour que les classes .ui-* ne soient pas supprimées par le Purge/JIT\n      content: [path.join(fullPath, 'ui.*.css')],\n    };\n  }\n);\n\nexport default tailuiPlugin;"]}