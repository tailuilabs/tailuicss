{"version":3,"sources":["/Users/hosmann/Projects/TailUI/dist/chunk-EDBUFYYK.cjs","../src/config.ts"],"names":[],"mappings":"AAAA;ACAA,gEAAe;AACf,wEAAiB;AAEV,IAAM,YAAA,EAAc,gBAAA;AACpB,IAAM,YAAA,EAAc,IAAA;AA0BpB,SAAS,aAAA,CAAc,QAAA,EAAyB,CAAC,CAAA,EAAmB;AACzE,EAAA,MAAM,WAAA,EAAa,cAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAG,WAAW,CAAA;AACvD,EAAA,IAAI,OAAA,EAA8B,IAAA;AAElC,EAAA,GAAA,CAAI,YAAA,CAAG,UAAA,CAAW,UAAU,CAAA,EAAG;AAC7B,IAAA,IAAI;AACF,MAAA,OAAA,EAAS,IAAA,CAAK,KAAA,CAAM,YAAA,CAAG,YAAA,CAAa,UAAA,EAAY,MAAM,CAAC,CAAA;AAAA,IACzD,EAAA,MAAA,CAAS,CAAA,EAAG;AACV,MAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,uCAAA,EAAgC,WAAW,CAAA,EAAA,EAAM,CAAA,CAAY,OAAO,CAAA,CAAA;AACnF,IAAA;AACF,EAAA;AAEI,EAAA;AACc,EAAA;AACI,IAAA;AACQ,EAAA;AACT,IAAA;AACd,EAAA;AACuB,IAAA;AAC9B,EAAA;AAEsD,EAAA;AACb,EAAA;AACU,IAAA;AACrB,IAAA;AAC9B,EAAA;AAEuC,EAAA;AACzC;AD5BuF;AACA;AACA;AACA;AACA;AACA","file":"/Users/hosmann/Projects/TailUI/dist/chunk-EDBUFYYK.cjs","sourcesContent":[null,"import fs from 'fs';\nimport path from 'path';\n\nexport const CONFIG_FILE = 'ui.config.json';\nexport const DEFAULT_DIR = 'ui';\n\nexport interface PluginOptions {\n  path?: string;\n  [key: string]: unknown;\n}\n\nexport interface TailUIConfig {\n  stylesDir?: string;\n  [key: string]: unknown;\n}\n\nexport interface ResolvedConfig {\n  stylesDir: string;\n  configPath: string;\n  config: TailUIConfig | null;\n}\n\n/**\n * Resolve the TailUI styles directory.\n *\n * Priority:\n *   1. Explicit `options.path` (from plugin config)\n *   2. `stylesDir` from ui.config.json\n *   3. Default: ./ui/styles\n */\nexport function resolveConfig(options: PluginOptions = {}): ResolvedConfig {\n  const configPath = path.join(process.cwd(), CONFIG_FILE);\n  let config: TailUIConfig | null = null;\n\n  if (fs.existsSync(configPath)) {\n    try {\n      config = JSON.parse(fs.readFileSync(configPath, 'utf8')) as TailUIConfig;\n    } catch (e) {\n      console.warn(`[TailUI] ⚠️  Failed to parse ${CONFIG_FILE}: ${(e as Error).message}`);\n    }\n  }\n\n  let stylesDir: string;\n  if (options.path) {\n    stylesDir = options.path;\n  } else if (config?.stylesDir) {\n    stylesDir = config.stylesDir;\n  } else {\n    stylesDir = `./${DEFAULT_DIR}/styles`;\n  }\n\n  const resolved = path.resolve(process.cwd(), stylesDir);\n  if (!resolved.startsWith(process.cwd())) {\n    console.warn(`[TailUI] ⚠️  stylesDir \"${stylesDir}\" resolves outside the project. Using default.`);\n    stylesDir = `./${DEFAULT_DIR}/styles`;\n  }\n\n  return { stylesDir, configPath, config };\n}"]}